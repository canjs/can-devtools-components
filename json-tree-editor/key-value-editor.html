<!doctype html>
<html>
	<head>
	</head>
	<body>
		<p></p>
		<button>Toggle showing</button>
		<hr>

		<script src="../node_modules/steal/steal.js" main="can-devtools-components/json-tree-editor/json-tree-editor">
			require("can-debug");

			const p = document.querySelector("p");
			const button = document.querySelector("button");
			const obj = {};
			let keyValueEditor = null;

			button.addEventListener("click", () => {
				if (!keyValueEditor) {
					keyValueEditor = document.createElement("key-value-editor")
					document.body.appendChild(keyValueEditor);
					keyValueEditor.viewModel.setKeyValue = (key, value) => {
						obj[key] = value;
						p.innerHTML = JSON.stringify(obj, null, "\t");
					};
				} else {
					document.body.removeChild(keyValueEditor);
					keyValueEditor = null;
				}
			});
		</script>
	</body>
</html>
